@use "sass:map";
@use "sass:list";

$md-config: (
    "effects": (
        "active-brightness": 0.85,
        "hover-brightness": 1.2,
        "disabled-opacity": 0.5
    ),
    "shape": (
        "border-radius": 0.75rem,
        "box-shadow": 0 4px 6px -1px rgb(0 0 0 / 0.1),
        "box-shadow-hover": 0 10px 15px -3px rgb(0 0 0 / 0.1)
    ),
    "colors": (
        "accent": (#118bee15, #0097fc4f),
        "bg": (#ffffff, #0d1117),
        "bg-secondary": (#f6f8fa, #151b23),
        "link": (#0969da, #2f81f7),
        "secondary": (#6e7781, #8b949e),
        "secondary-accent": (#eff1f3, #1f2428),
        "shadow": (#d1d9e0, #30363d),
        "table": (#f6f8fa, #161b22),
        "text": (#1f2328, #e6edf3),
        "text-secondary": (#656d76, #7d8590),
        "scrollbar": (#d0d7de, #484f58),
        "border": (#d0d7de, #30363d)
    ),
    "font": (
        "emoji": "\"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"",
        "body": "-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Noto Sans\", Helvetica, Arial, sans-serif, var(--font-family-emoji-flag-capable)",
        "mono": "ui-monospace, SFMono-Regular, \"SF Mono\", Menlo, Consolas, \"Liberation Mono\", monospace",
        "size-base": 1rem
    ),
    "layout": (
        "line-height": 1.5,
        "justify-important": center,
        "justify-normal": start,
        "widths": (
            "card": 320px,
            "card-medium": 480px,
            "card-wide": 768px,
            "content": 1200px
        )
    ),
    "z-index": (
        "negative": -1,
        "base": 0,
        "dropdown": 1000,
        "sticky": 1020,
        "fixed": 1030,
        "modal-backdrop": 1040,
        "modal": 1050,
        "popover": 1060,
        "tooltip": 1070
    ),
    "page": (
        "margin": 1rem
    ),
    "heading": (
        "padding": 0.5em,
        "padding-small": 0.25em
    ),
    "blockquote": (
        "margin-inline": 1.5em,
        "padding-inline": 1em
    ),
    "table": (
        "cell-padding": 0.5rem 1rem
    ),
    "media": (
        "img-max-width": 100%
    ),
    "scrollbar": (
        "size": 6px
    )
);

@function md-config($keys...) {
    $value: $md-config;

    @each $key in $keys {
        @if $value == null {
            @return null;
        }
        $value: map.get($value, $key);
    }

    @return $value;
}

@function md-color($name, $mode: null) {
    $palette: md-config("colors");
    $value: map.get($palette, $name);

    @if $value == null {
        @return null;
    }

    @if $mode == "light" {
        @return list.nth($value, 1);
    }

    @if $mode == "dark" {
        @return list.nth($value, 2);
    }

    @return $value;
}

@function md-light-dark($name) {
    $value: md-color($name);

    @if $value == null {
        @return null;
    }

    @return light-dark(#{list.nth($value, 1)}, #{list.nth($value, 2)});
}
