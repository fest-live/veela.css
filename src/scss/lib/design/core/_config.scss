@use "sass:map";

$md-config: (
    "effects": (
        "active-brightness": 0.85,
        "hover-brightness": 1.2
    ),
    "shape": (
        "border-radius": 50cqmin,
        "box-shadow": 2px 2px 10px
    ),
    "colors": (
        "accent": (#118bee15, #0097fc4f),
        "bg": (#fff, #333),
        "bg-secondary": (#e9e9e9, #555),
        "link": (#118bee, #0097fc),
        "secondary": (#920de9, #e20de9),
        "secondary-accent": (#920de90b, #e20de90b),
        "shadow": (#f4f4f4, #444),
        "table": (#118bee, #0097fc),
        "text": (#000, #f7f7f7),
        "text-secondary": (#999, #aaa),
        "scrollbar": (#cacae8, #cacae8)
    ),
    "font": (
        "emoji": "\"Source Sans 3\", \"Open Sans\", \"Ubuntu Sans\", \"Noto Sans\", \"Segoe UI\", \"Helvetica\", \"Calibri\", \"Carlito\", \"Twemoji Country Flags\", \"Comic Sans\", Helvetica, serif, -apple-system, BlinkMacSystemFont, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\"",
        "body": "\"Noto Serif\", \"Noto Serif Display\", \"PT Serif\", \"IBM Plex Serif\", \"Literata\", \"Merriweather\", \"Source Serif 4\", \"Georgia\", \"Cambria\", \"Palatino Linotype\", \"Times New Roman\", \"Times\", serif, var(--font-family-emoji-flag-capable)",
        "size-base": 1em
    ),
    "layout": (
        "line-height": 1.4,
        "justify-important": center,
        "justify-normal": left,
        "widths": (
            "card": 285px,
            "card-medium": 460px,
            "card-wide": 800px,
            "content": 1080px
        )
    ),
    "page": (
        "margin": 10mm 12mm 10mm 12mm
    ),
    "heading": (
        "padding": 0.25em,
        "padding-small": 0.75em
    ),
    "blockquote": (
        "margin-inline": 1em,
        "padding-inline": 1em
    ),
    "table": (
        "cell-padding": 0.3em 0.6em
    ),
    "media": (
        "img-max-width": min(min(40%, 50dvi), 50cqi)
    ),
    "scrollbar": (
        "size": 0.5rem
    )
);

@function md-config($keys...) {
    $value: $md-config;

    @each $key in $keys {
        @if $value == null {
            @return null;
        }

        $value: map.get($value, $key);
    }

    @return $value;
}

@function md-color($name, $mode: null) {
    $palette: md-config("colors");
    $value: map.get($palette, $name);

    @if $mode == "light" {
        @return if($value != null, nth($value, 1), null);
    }

    @if $mode == "dark" {
        @return if($value != null, nth($value, 2), null);
    }

    @return $value;
}

@function md-light-dark($name) {
    $value: md-color($name);

    @if $value == null {
        @return null;
    }

    @return light-dark(#{nth($value, 1)}, #{nth($value, 2)});
}
