@use "sass:meta";
@use "sass:list";

@use "../core/constants" as c;


// Spacing helpers
@mixin padding($value: null) {
    & {
        @if $value != null { --p: #{$value}; }
        padding: var(--p, var(--padding-md, #{c.$ui-spacing-md}));
    }
}
@mixin margin($value: null) {
    & {
        @if $value != null { --m: #{$value}; }
        margin: var(--m, var(--space-md, #{c.$ui-spacing-md}));
    }
}
@mixin spacing($p: null, $m: null) {
    & {
        @if $p != null { padding: $p; }
        @if $m != null { margin: $m; }
    }
}

// Border/radius/shadow helpers
@mixin border($width: null, $style: null, $color: null) {
    & {
        @if $width != null { --border-w: #{$width}; }
        @if $style != null { --border-s: #{$style}; }
        @if $color != null { --border-c: #{$color}; }
        border-width: var(--border-w, #{c.$ui-border-width});
        border-style: var(--border-s, solid);
        border-color: var(--border-c, currentColor);
    }
}

@mixin radius($r: null) { & { @if $r != null { --radius: #{$r}; } border-radius: var(--radius, var(--radius-md, #{c.$ui-radius-md})); } }
@mixin border-radius($r: null) { & { @if $r != null { --radius: #{$r}; } border-radius: var(--radius, var(--radius-md, #{c.$ui-radius-md})); } }
@mixin shadow($value: null) { & { @if $value != null { --shadow: #{$value}; } box-shadow: var(--shadow, #{c.$ui-shadow-soft}); } }

// Container helpers
// pseudo-container helper for future compatibility

@mixin box($r: null, $ov: null) {
    & {
        @if $r != null { --radius: #{$r}; }
        @if $ov != null { --overflow: #{$ov}; }
        border-radius: var(--radius, var(--radius-md, #{c.$ui-radius-md}));
        overflow: var(--overflow, visible);
    }
}

@mixin color($bg: null, $color: null) {
    & {
        @if $bg != null { --bg: #{$bg}; }
        @if $color != null { --fg: #{$color}; }
        color: var(--fg, currentColor);
        background-color: var(--bg, transparent);
    }
}

@mixin host-related($host, $child) {
    // outside web component
    #{$host} { & > #{$child} { @content; } }
    // inside web component
    :host(#{$host}) { ::slotted(#{$child}) { @content; } }
}

@mixin host-context($host) {
    // outside web component
    #{$host} { @content; }
    // inside web component
    :host(#{$host}) { @content; }
}
