@use "sass:map";
@use "veela-lib" as *;
@use "veela-lib" as mixins;

@mixin line-clamp($lines) {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

@layer utilities {
    $spaces: (
        "0": 0,
        "xs": config("spacing", "xs"),
        "sm": config("spacing", "sm"),
        "md": config("spacing", "md"),
        "lg": config("spacing", "lg"),
        "xl": config("spacing", "xl"),
        "2xl": config("spacing", "2xl"),
        "3xl": config("spacing", "3xl")
    );

    @each $name, $value in $spaces {
        .m-#{$name} {
            margin: $value;
        }

        .mb-#{$name} {
            margin-block: $value;
        }

        .mi-#{$name} {
            margin-inline: $value;
        }

        .p-#{$name} {
            padding: $value;
        }

        .pb-#{$name} {
            padding-block: $value;
        }

        .pi-#{$name} {
            padding-inline: $value;
        }

        .gap-#{$name} {
            gap: $value;
        }

        .inset-#{$name} {
            inset: $value;
        }
    }

    .text-xs {
        @include mixins.typography("xs");
    }

    .text-sm {
        @include mixins.typography("sm");
    }

    .text-base {
        @include mixins.typography("base");
    }

    .text-lg {
        @include mixins.typography("lg");
    }

    .text-xl {
        @include mixins.typography("xl");
    }

    .text-2xl {
        @include mixins.typography("2xl");
    }

    .font-thin {
        font-weight: config("typography", "font-weight", "thin");
    }

    .font-light {
        font-weight: config("typography", "font-weight", "light");
    }

    .font-normal {
        font-weight: config("typography", "font-weight", "normal");
    }

    .font-medium {
        font-weight: config("typography", "font-weight", "medium");
    }

    .font-semibold {
        font-weight: config("typography", "font-weight", "semibold");
    }

    .font-bold {
        font-weight: config("typography", "font-weight", "bold");
    }

    .text-start {
        text-align: start;
    }

    .text-center {
        text-align: center;
    }

    .text-end {
        text-align: end;
    }

    .text-primary {
        color: config("colors", "text-primary");
    }

    .text-secondary {
        color: config("colors", "text-secondary");
    }

    .text-muted {
        color: config("colors", "text-muted");
    }

    .text-disabled {
        color: config("colors", "text-disabled");
    }

    .block,
    .vu-block {
        display: block;
    }

    .inline,
    .vu-inline {
        display: inline;
    }

    .inline-block {
        display: inline-block;
    }

    .flex,
    .vu-flex {
        display: flex;
    }

    .inline-flex {
        display: inline-flex;
    }

    .grid,
    .vu-grid {
        display: grid;
    }

    .hidden,
    .vu-hidden {
        display: none;
    }

    .flex-row {
        flex-direction: row;
    }

    .flex-col {
        flex-direction: column;
    }

    .flex-wrap {
        flex-wrap: wrap;
    }

    .flex-nowrap {
        flex-wrap: nowrap;
    }

    .items-start {
        align-items: flex-start;
    }

    .items-center {
        align-items: center;
    }

    .items-end {
        align-items: flex-end;
    }

    .items-stretch {
        align-items: stretch;
    }

    .justify-start {
        justify-content: flex-start;
    }

    .justify-center {
        justify-content: center;
    }

    .justify-end {
        justify-content: flex-end;
    }

    .justify-between {
        justify-content: space-between;
    }

    .justify-around {
        justify-content: space-around;
    }

    .grid-cols-1 {
        grid-template-columns: repeat(1, minmax(0, 1fr));
    }

    .grid-cols-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .grid-cols-4 {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }

    .h-auto,
    .block-size-auto {
        block-size: auto;
    }

    .h-full,
    .block-size-full {
        block-size: 100%;
    }

    .h-screen {
        block-size: 100vh;
    }

    .w-auto,
    .inline-size-auto {
        inline-size: auto;
    }

    .w-full,
    .inline-size-full {
        inline-size: 100%;
    }

    .w-screen {
        inline-size: 100vw;
    }

    .min-h-0,
    .min-block-size-0 {
        min-block-size: 0;
    }

    .min-w-0,
    .min-inline-size-0 {
        min-inline-size: 0;
    }

    .max-h-full,
    .max-block-size-full {
        max-block-size: 100%;
    }

    .max-w-full,
    .max-inline-size-full {
        max-inline-size: 100%;
    }

    .static {
        position: static;
    }

    .relative {
        position: relative;
    }

    .absolute {
        position: absolute;
    }

    .fixed {
        position: fixed;
    }

    .sticky {
        position: sticky;
    }

    .bg-surface {
        background-color: config("colors", "surface");
    }

    .bg-surface-container {
        background-color: config("colors", "surface-container");
    }

    .bg-surface-container-high {
        background-color: config("colors", "surface-container-high");
    }

    .bg-primary {
        background-color: config("colors", "primary");
    }

    .bg-secondary {
        background-color: config("colors", "secondary");
    }

    .border {
        @include mixins.logical-border(1px, solid, config("colors", "border"));
    }

    .border-2 {
        @include mixins.logical-border(2px, solid, config("colors", "border"));
    }

    .border-primary {
        @include mixins.logical-border(1px, solid, config("colors", "primary"));
    }

    .border-secondary {
        @include mixins.logical-border(1px, solid, config("colors", "secondary"));
    }

    .rounded-none {
        border-radius: 0;
    }

    .rounded-sm {
        border-radius: config("shape", "border-radius", "sm");
    }

    .rounded-md {
        border-radius: config("shape", "border-radius", "md");
    }

    .rounded-lg {
        border-radius: config("shape", "border-radius", "lg");
    }

    .rounded-full {
        border-radius: config("shape", "border-radius", "full");
    }

    .shadow-xs {
        box-shadow: config("shape", "shadow", "xs");
    }

    .shadow-sm {
        box-shadow: config("shape", "shadow", "sm");
    }

    .shadow-md {
        box-shadow: config("shape", "shadow", "md");
    }

    .shadow-lg {
        box-shadow: config("shape", "shadow", "lg");
    }

    .shadow-xl {
        box-shadow: config("shape", "shadow", "xl");
    }

    .cursor-pointer {
        cursor: pointer;
    }

    .cursor-default {
        cursor: default;
    }

    .cursor-not-allowed {
        cursor: not-allowed;
    }

    .select-none {
        user-select: none;
    }

    .select-text {
        user-select: text;
    }

    .select-all {
        user-select: all;
    }

    .visible {
        visibility: visible;
    }

    .invisible {
        visibility: hidden;
    }

    .collapse,
    .vs-collapsed {
        visibility: collapse;
    }

    .opacity-0 {
        opacity: 0;
    }

    .opacity-25 {
        opacity: 0.25;
    }

    .opacity-50 {
        opacity: 0.5;
    }

    .opacity-75 {
        opacity: 0.75;
    }

    .opacity-100 {
        opacity: 1;
    }

    .hidden\@xs {
        @include mixins.container-query("xs", "max-width") {
            display: none;
        }
    }

    .hidden\@sm {
        @include mixins.container-query("sm", "max-width") {
            display: none;
        }
    }

    .hidden\@md {
        @include mixins.container-query("md", "max-width") {
            display: none;
        }
    }

    .hidden\@lg {
        @include mixins.container-query("lg", "max-width") {
            display: none;
        }
    }

    .block\@xs {
        @include mixins.container-query("xs") {
            display: block;
        }
    }

    .block\@sm {
        @include mixins.container-query("sm") {
            display: block;
        }
    }

    .block\@md {
        @include mixins.container-query("md") {
            display: block;
        }
    }

    .block\@lg {
        @include mixins.container-query("lg") {
            display: block;
        }
    }

    .text-sm\@xs {
        @include mixins.container-query("xs", "max-width") {
            @include mixins.typography("sm");
        }
    }

    .text-base\@sm {
        @include mixins.container-query("sm") {
            @include mixins.typography("base");
        }
    }

    .icon-xs {
        --icon-size: 0.75rem;
    }

    .icon-sm {
        --icon-size: 0.875rem;
    }

    .icon-md {
        --icon-size: 1rem;
    }

    .icon-lg {
        --icon-size: 1.25rem;
    }

    .icon-xl {
        --icon-size: 1.5rem;
    }

    .center-absolute {
        @include mixins.center-absolute;
    }

    .center-flex {
        @include mixins.center-flex;
    }

    .interactive {
        @include mixins.interactive;
    }

    .focus-ring {
        @include mixins.focus-ring;
    }

    .truncate {
        @include mixins.truncate(1);
    }

    .truncate-2 {
        @include mixins.truncate(2);
    }

    .truncate-3 {
        @include mixins.truncate(3);
    }

    .aspect-square {
        @include mixins.aspect-ratio(1);
    }

    .aspect-video {
        @include mixins.aspect-ratio(#{"16 / 9"});
    }

    .margin-block-0 {
        margin-block: 0;
    }

    .margin-block-sm {
        margin-block: var(--space-sm);
    }

    .margin-block-md {
        margin-block: var(--space-md);
    }

    .margin-block-lg {
        margin-block: var(--space-lg);
    }

    .margin-inline-0 {
        margin-inline: 0;
    }

    .margin-inline-sm {
        margin-inline: var(--space-sm);
    }

    .margin-inline-md {
        margin-inline: var(--space-md);
    }

    .margin-inline-lg {
        margin-inline: var(--space-lg);
    }

    .margin-inline-auto {
        margin-inline: auto;
    }

    .padding-block-0 {
        padding-block: 0;
    }

    .padding-block-sm {
        padding-block: var(--space-sm);
    }

    .padding-block-md {
        padding-block: var(--space-md);
    }

    .padding-block-lg {
        padding-block: var(--space-lg);
    }

    .padding-inline-0 {
        padding-inline: 0;
    }

    .padding-inline-sm {
        padding-inline: var(--space-sm);
    }

    .padding-inline-md {
        padding-inline: var(--space-md);
    }

    .padding-inline-lg {
        padding-inline: var(--space-lg);
    }

    .pointer-events-none {
        pointer-events: none;
    }

    .pointer-events-auto {
        pointer-events: auto;
    }

    .line-clamp-1 {
        @include line-clamp(1);
    }

    .line-clamp-2 {
        @include line-clamp(2);
    }

    .line-clamp-3 {
        @include line-clamp(3);
    }

    .vs-active {
        --state-active: 1;
    }

    .vs-disabled {
        pointer-events: none;
        opacity: 0.5;
    }

    .vs-loading {
        cursor: wait;
    }

    .vs-error {
        color: var(--basic-error, #dc3545);
    }

    .vs-success {
        color: var(--basic-success, #28a745);
    }

    .vs-hidden {
        display: none !important;
    }

    .vl-container,
    .container {
        inline-size: 100%;
        max-inline-size: var(--container-max, 1200px);
        margin-inline: auto;
    }

    .vl-container {
        padding-inline: var(--space-md);
    }

    .container {
        padding-inline: var(--space-lg);
    }

    .vl-grid {
        display: grid;
        gap: var(--gap-md);
    }

    .vl-stack {
        display: flex;
        flex-direction: column;
        gap: var(--gap-md);
    }

    .vl-cluster {
        display: flex;
        flex-wrap: wrap;
        gap: var(--gap-sm);
        align-items: center;
    }

    .vl-center {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .vu-sr-only {
        position: absolute;
        inline-size: 1px;
        block-size: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    .vc-surface {
        background-color: var(--basic-surface);
        color: var(--basic-on-surface);
    }

    .vc-surface-variant {
        background-color: var(--basic-surface-variant);
        color: var(--basic-on-surface-variant);
    }

    .vc-primary {
        background-color: var(--basic-primary);
        color: var(--basic-on-primary);
    }

    .vc-secondary {
        background-color: var(--basic-secondary);
        color: var(--basic-on-secondary);
    }

    .vc-elevated {
        box-shadow: var(--basic-elev-1);
    }

    .vc-elevated-2 {
        box-shadow: var(--basic-elev-2);
    }

    .vc-elevated-3 {
        box-shadow: var(--basic-elev-3);
    }

    .vc-rounded {
        border-radius: var(--basic-radius-md);
    }

    .vc-rounded-sm {
        border-radius: var(--basic-radius-sm);
    }

    .vc-rounded-lg {
        border-radius: var(--basic-radius-lg);
    }

    .vc-rounded-full {
        border-radius: var(--basic-radius-full, 9999px);
    }

    .card {
        background: var(--color-bg);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-lg);
        padding: var(--space-lg);
        box-shadow: var(--shadow-sm);
    }

    .stack {
        & > * + * {
            margin-block-start: var(--space-md);
        }
    }

    .stack-sm {
        & > * + * {
            margin-block-start: var(--space-sm);
        }
    }

    .stack-lg {
        & > * + * {
            margin-block-start: var(--space-lg);
        }
    }

    @media print {
        .print-hidden {
            display: none !important;
        }

        .print-visible {
            display: block !important;
        }

        .print-break-before {
            page-break-before: always;
        }

        .print-break-after {
            page-break-after: always;
        }

        .print-break-inside-avoid {
            page-break-inside: avoid;
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .transition-fast,
        .transition-normal,
        .transition-slow {
            transition: none;
        }

        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }

    @media (prefers-contrast: high) {
        .text-primary {
            color: var(--basic-on-surface);
        }

        .text-secondary,
        .text-muted,
        .text-disabled {
            color: var(--basic-on-surface-variant);
        }

        .border {
            border-width: 2px;
        }

        .border-top {
            border-top-width: 2px;
        }

        .border-bottom {
            border-bottom-width: 2px;
        }

        .border-left {
            border-left-width: 2px;
        }

        .border-right {
            border-right-width: 2px;
        }
    }
}
