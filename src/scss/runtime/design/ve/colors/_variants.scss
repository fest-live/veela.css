// Dedicated colorization utility classes
// These classes apply semantic color variants and states to elements

@use "../../../../lib/index" as *;

//
@layer ux-colors {

    // =============================================================================
    // COLOR VARIANT CLASSES
    // =============================================================================

    .color-primary { --current: var(--color-primary); }
    .color-secondary { --current: var(--color-secondary); }
    .color-accent { --current: var(--color-accent); }
    .color-success { --current: var(--color-success); }
    .color-warning { --current: var(--color-warning); }
    .color-danger { --current: var(--color-danger); }
    .color-info { --current: var(--color-info); }

    // =============================================================================
    // SURFACE COLORIZATION CLASSES
    // =============================================================================

    .surface {
        @include solid-colorize("&", ("shade": var(--surface-opacity-default), "tint": 0.0));
    }

    .surface-subtle {
        @include solid-colorize("&", ("shade": var(--surface-opacity-subtle), "tint": 0.0));
    }

    .surface-muted {
        @include solid-colorize("&", ("shade": var(--surface-opacity-muted), "tint": 0.0));
    }

    .surface-emphasis {
        @include solid-colorize("&", ("shade": var(--surface-opacity-emphasis), "tint": 0.0));
    }

    .surface-strong {
        @include solid-colorize("&", ("shade": var(--surface-opacity-strong), "tint": 0.0));
    }

    // =============================================================================
    // INTERACTIVE SURFACE CLASSES
    // =============================================================================

    .surface-interactive {
        @include surface-interactive(var(--surface-opacity-default));

        &:hover { --color-shade: calc(var(--surface-opacity-default) + var(--hover-lift, 0.04)); }
        &:active { --color-shade: calc(var(--surface-opacity-default) + var(--active-lift, 0.06)); }
        &:focus-visible { --color-shade: calc(var(--surface-opacity-default) + var(--focus-lift, 0.05)); }
    }

    .surface-interactive-subtle {
        @include surface-interactive(var(--surface-opacity-subtle));

        &:hover { --color-shade: calc(var(--surface-opacity-subtle) + var(--hover-lift, 0.04)); }
        &:active { --color-shade: calc(var(--surface-opacity-subtle) + var(--active-lift, 0.06)); }
    }

    .surface-interactive-emphasis {
        @include surface-interactive(var(--surface-opacity-emphasis));

        &:hover { --color-shade: calc(var(--surface-opacity-emphasis) + var(--hover-lift, 0.04)); }
        &:active { --color-shade: calc(var(--surface-opacity-emphasis) + var(--active-lift, 0.06)); }
    }

    // =============================================================================
    // OVERLAY COLORIZATION CLASSES
    // =============================================================================

    .overlay {
        @include overlay-colorize("&", ("shade": 0.0, "tint": 0.0, "opacity": var(--surface-opacity-muted), "enable-blur": true));
    }

    .overlay-subtle {
        @include overlay-colorize("&", ("shade": 0.0, "tint": 0.0, "opacity": var(--surface-opacity-subtle), "enable-blur": true));
    }

    .overlay-strong {
        @include overlay-colorize("&", ("shade": 0.0, "tint": 0.0, "opacity": var(--surface-opacity-strong), "enable-blur": true));
    }

    .overlay-solid {
        @include overlay-colorize("&", ("shade": 0.0, "tint": 0.0, "opacity": 0.95, "enable-blur": false));
    }

    // =============================================================================
    // TEXT COLOR CLASSES
    // =============================================================================

    .text-primary {
        @include text-color(var(--text-tint-primary));
    }

    .text-secondary {
        @include text-color(var(--text-tint-secondary));
    }

    .text-muted {
        @include text-color(var(--text-tint-muted));
    }

    .text-disabled {
        @include text-color(var(--text-tint-disabled));
        opacity: 0.6;
        cursor: not-allowed;
    }

    // =============================================================================
    // VALIDATION STATE CLASSES
    // =============================================================================

    .state-success {
        --current: var(--color-success);
        @include validation-success;
    }

    .state-warning {
        --current: var(--color-warning);
        @include validation-warning;
    }

    .state-error {
        --current: var(--color-error, var(--color-danger));
        @include validation-error;
    }

    .state-invalid {
        --current: var(--color-error, var(--color-danger));
        @include validation-error;
    }

    .state-valid {
        --current: var(--color-success);
        @include validation-success;
    }

    // =============================================================================
    // COMBINED COLOR + SURFACE CLASSES
    // =============================================================================

    @each $color-name, $color-var in (
        "primary": var(--color-primary),
        "secondary": var(--color-secondary),
        "accent": var(--color-accent),
        "success": var(--color-success),
        "warning": var(--color-warning),
        "danger": var(--color-danger),
        "info": var(--color-info)
    ) {
        .#{$color-name}-surface {
            --current: #{$color-var};
            @include solid-colorize("&", ("shade": var(--surface-opacity-default), "tint": 0.0));
        }

        .#{$color-name}-surface-interactive {
            --current: #{$color-var};
            @include surface-interactive(var(--surface-opacity-default));

            &:hover { --color-shade: calc(var(--surface-opacity-default) + var(--hover-lift, 0.04)); }
            &:active { --color-shade: calc(var(--surface-opacity-default) + var(--active-lift, 0.06)); }
            &:focus-visible { --color-shade: calc(var(--surface-opacity-default) + var(--focus-lift, 0.05)); }
        }

        .#{$color-name}-overlay {
            --current: #{$color-var};
            @include overlay-colorize("&", ("shade": 0.0, "tint": 0.0, "opacity": var(--surface-opacity-muted), "enable-blur": true));
        }
    }



    // =============================================================================
    // BUTTON MODIFIERS & VARIANTS
    // =============================================================================

    :where(button) {
        // Semantic action buttons
        &:is(.save, .submit, .confirm) {
            --current: var(--color-success);
        }

        &:is(.cancel, .delete, .remove) {
            --current: var(--color-danger);
        }

        &:is(.info) {
            --current: var(--color-info);
        }

        &:is(.warning) {
            --current: var(--color-warning);
        }

        // Button variant classes
        &:is(.btn-primary, [class*="btn-primary"]) {
            --current: var(--color-primary);
        }

        &:is(.btn-secondary, [class*="btn-secondary"]) {
            --current: var(--color-secondary);
        }

        &:is(.btn-accent, [class*="btn-accent"]) {
            --current: var(--color-accent);
        }

        &:is(.btn-success, [class*="btn-success"]) {
            --current: var(--color-success);
        }

        &:is(.btn-warning, [class*="btn-warning"]) {
            --current: var(--color-warning);
        }

        &:is(.btn-danger, [class*="btn-danger"]) {
            --current: var(--color-danger);
        }

        &:is(.btn-info, [class*="btn-info"]) {
            --current: var(--color-info);
        }

        // Button style variants
        &:where(.btn, .save, .cancel, .submit, .delete, .confirm, .remove, [class*="btn-"]) {
            @include solid-colorize("&", ("shade": var(--surface-opacity-default), "tint": 0.0));
        }
    }

}
